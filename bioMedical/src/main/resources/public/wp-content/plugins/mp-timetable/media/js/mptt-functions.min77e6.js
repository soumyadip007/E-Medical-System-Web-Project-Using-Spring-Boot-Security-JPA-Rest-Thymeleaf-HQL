function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/index.html")){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}return!1}window.Registry=function(){"use strict";var n={};function i(e){var t=!1;return"function"==typeof e.getInstance&&(t=!0),t}return{register:function(e,t){if(!i(t))throw new Error('Invalide module "'+e+'". The function "getInstance" is not defined.');n[e]=t},unregister:function(e){delete n[e]},_get:function(e){var t=n[e];if(!t)throw new Error('The module "'+e+'" has not been registered or it was unregistered.');if("function"!=typeof t.getInstance)throw new Error('The module "'+e+'" can not be instantiated. The function "getInstance" is not defined.');return n[e].getInstance()},registryMap:function(e){for(var t in e)if(e.hasOwnProperty(t)){if(!i(e[t]))throw new Error('Invalide module "'+t+'" inside the collection. The function "getInstance" is not defined.');n[t]=e[t]}}}}(),Registry.register("adminFunctions",function(s){"use strict";var r,i;return{getInstance:function(){return r||(r={wpAjax:function(e,t,n){e.mptt_action=e.action,delete e.action,wp.ajax.send("route_url",{success:function(e){!_.isUndefined(n)&&_.isFunction(n)&&t(e)},error:function(e){!_.isUndefined(n)&&_.isFunction(n)?n(e):console.log(e)},data:e})},initJBox:function(e,t,n){e,i=t,r.buttonEvents(n)},buttonEvents:function(e){i.find("#insert-into").off("click").on("click",function(){e(s(this).parents("form").serializeArray())})},callModal:function(e,t,n){var i=s(window).outerHeight()-60,r=s(window).outerWidth()-60,o=(wp.html.string({tag:"span",attrs:{class:"spinner is-active"},content:""}),{content:e,closeOnEsc:!0,animation:{open:"zoomIn",close:"zoomOut"},width:r,height:i,closeButton:"title",title:"Shortcode Settings",onOpen:function(){var e=s("#"+this.id);t.call(this,e)},onClose:function(){s("#"+this.id).remove()}});_.isUndefined(n)||s.extend(o,n),new jBox("Modal",o).open()},parseRequest:function(e){var t,n=location.search,i={};return _.isEmpty(n)||"?"===n?i:(t=(n=n.replace("?","")).split("&"),s.each(t,function(){var e=this;e=e.split("="),i[e[0]]=e[1]}),_.isUndefined(e)?i:i[e])},generateHTML:function(e){var t,n="";if(_.isObject(e)){var i=document.createElement(e.tag);_.isUndefined(e.attrs)||s.each(e.attrs,function(e,t){_.isUndefined(t)||""===t||i.setAttribute(e,t)}),_.isArray(e.content)?(s.each(e.content,function(e,t){n+=r.generateHTML(t)}),s(i).html(n)):_.isObject(e.content)?(n=r.generateHTML(e.content),s(i).html(n)):_.isUndefined(e.content)?s(i).html(""):s(i).html(e.content),t=s(i).get(0).outerHTML}else t=!!_.isString(e)&&e;return t},getHtml:function(e,t){if(_.isUndefined(e))return!1;var n=!1;if(_.isUndefined(t)&&(_.isArray(e)?(n="",s.each(e,function(e,t){n+=r.generateHTML(t)})):n=r.generateHTML(e)),_.isObject(t)){var i=_.template(n);n=i(t)}return n}}),r}}}(jQuery)),function(n){"use strict";n(document).ready(function(){var e=n("body");detectIE()?e.hasClass("mprm_ie_browser")||e.addClass("mprm_ie_browser"):e.removeClass("mprm_ie_browser");var t=n(".mptt-shortcode-wrapper");if("undefined"!=typeof typenow&&pagenow===typenow)switch(typenow){case"mp-event":Registry._get("Event").init();break;case"mp-column":Registry._get("Event").initDatePicker(),Registry._get("Event").columnRadioBox()}t.length&&(Registry._get("Event").initTableData(),Registry._get("Event").filterShortcodeEvents(),Registry._get("Event").getFilterByHash(),t.show()),(n(".upcoming-events-widget").length||t.length)&&Registry._get("Event").setColorSettings()})}(jQuery);